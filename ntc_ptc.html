<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Temperature Calculator</title>
    <script>
        function calculateTemperature() {
            var resistance = parseFloat(document.getElementById("resistance").value);
            var sensorType = document.getElementById("sensorType").value;
            var R0, B, alpha, temperature;

            if (sensorType.startsWith("ntc")) {
                // Set R0 and B based on the selected NTC type
                switch (sensorType) {
                    case "ntc1k":
                        R0 = 1000;
                        B = 4050;
                        break;
                    case "ntc2k":
                        R0 = 2000;
                        B = 4050;
                        break;
                    case "ntc5k":
                        R0 = 5000;
                        B = 4050;
                        break;
                    case "ntc10k":
                        R0 = 10000;
                        B = 4050;
                        break;
                    case "ntc20k":
                        R0 = 20000;
                        B = 4050;
                        break;
                    case "ntc30k":
                        R0 = 30000;
                        B = 4050;
                        break;
                    default:
                        alert("Please select the type of thermistor.");
                        return;
                }

                var T0 = 298.15; // Reference temperature in Kelvin (25°C)
                var lnR = Math.log(resistance / R0); // Natural logarithm of the resistance ratio
                var T = 1 / (1 / T0 + lnR / B); // Calculate temperature in Kelvin
                temperature = T - 273.15; // Convert temperature to Celsius

            } else if (sensorType.startsWith("ptc")) {
                // Set R0 and alpha based on the selected PTC type
                switch (sensorType) {
                    case "ptc100":
                        R0 = 100;
                        alpha = 0.00385;
                        break;
                    case "ptc500":
                        R0 = 500;
                        alpha = 0.00385;
                        break;
                    case "ptc1k":
                        R0 = 1000;
                        alpha = 0.00385;
                        break;
                    case "ptc2k":
                        R0 = 2000;
                        alpha = 0.00385;
                        break;
                    default:
                        alert("Please select the type of thermistor.");
                        return;
                }

                temperature = (resistance / R0 - 1) / alpha; // Calculate temperature in Celsius
            } else {
                alert("Please select a valid sensor type.");
                return;
            }

            // Display the calculated temperature
            document.getElementById("temperature").innerText = "Calculated Temperature: " + temperature.toFixed(2) + " °C";
        }

        function calculateResistance() {
            var temperature = parseFloat(document.getElementById("temperatureInput").value);
            var sensorType = document.getElementById("sensorType").value;
            var R0, B, alpha, resistance;

            if (sensorType.startsWith("ntc")) {
                // Set R0 and B based on the selected NTC type
                switch (sensorType) {
                    case "ntc1k":
                        R0 = 1000;
                        B = 4050;
                        break;
                    case "ntc2k":
                        R0 = 2000;
                        B = 4050;
                        break;
                    case "ntc5k":
                        R0 = 5000;
                        B = 4050;
                        break;
                    case "ntc10k":
                        R0 = 10000;
                        B = 4050;
                        break;
                    case "ntc20k":
                        R0 = 20000;
                        B = 4050;
                        break;
                    case "ntc30k":
                        R0 = 30000;
                        B = 4050;
                        break;
                    default:
                        alert("Please select the type of thermistor.");
                        return;
                }

                var T = temperature + 273.15; // Convert temperature to Kelvin
                var lnR = B * (1 / T - 1 / 298.15); // Calculate natural logarithm of the resistance ratio
                resistance = R0 * Math.exp(lnR); // Calculate resistance

            } else if (sensorType.startsWith("ptc")) {
                // Set R0 and alpha based on the selected PTC type
                switch (sensorType) {
                    case "ptc100":
                        R0 = 100;
                        alpha = 0.00385;
                        break;
                    case "ptc500":
                        R0 = 500;
                        alpha = 0.00385;
                        break;
                    case "ptc1k":
                        R0 = 1000;
                        alpha = 0.00385;
                        break;
                    case "ptc2k":
                        R0 = 2000;
                        alpha = 0.00385;
                        break;
                    default:
                        alert("Please select the type of thermistor.");
                        return;
                }

                resistance = R0 * (1 + alpha * temperature); // Calculate resistance
            } else {
                alert("Please select a valid sensor type.");
                return;
            }

            // Display the calculated resistance
            document.getElementById("resistanceOutput").innerText = "Calculated Resistance: " + resistance.toFixed(2) + " Ohms";
        }
    </script>
</head>
<body>
    <h1>Temperature Calculator</h1>
    <label for="resistance">Resistance (Ohms):</label>
    <input type="text" id="resistance" name="resistance"><br><br>
    <label for="sensorType">Sensor Type:</label>
    <select id="sensorType" name="sensorType">
        <option value="ntc1k">NTC 1K</option>
        <option value="ntc2k">NTC 2K</option>
        <option value="ntc5k">NTC 5K</option>
        <option value="ntc10k">NTC 10K</option>
        <option value="ntc20k">NTC 20K</option>
        <option value="ntc30k">NTC 30K</option>
        <option value="ptc100">PTC 100</option>
        <option value="ptc500">PTC 500</option>
        <option value="ptc1k">PTC 1K</option>
        <option value="ptc2k">PTC 2K</option>
    </select><br><br>
    <button onclick="calculateTemperature()">Calculate Temperature</button>
    <p id="temperature"></p>
    <br>
    <label for="temperatureInput">Temperature (°C):</label>
    <input type="text" id="temperatureInput" name="temperatureInput"><br><br>
    <button onclick="calculateResistance()">Calculate Resistance</button>
    <p id="resistanceOutput"></p>
</body>
</html>
